\documentclass[8pt]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
% \usepackage{amsfonts}
% \usepackage{amscd}
\usepackage{graphicx}
\usepackage{color}
\usepackage{hyperref}
\usepackage{enumerate}
% \usepackage{mathrsfs}
% \usepackage{tikz}
% \usepackage{tikz-cd}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{verbatim}
\usepackage{url}
\usepackage{fancyhdr}

\pagestyle{fancy}
\lfoot{\author{Jorge Gómez}}
\rfoot{\author{Saud Morales}}
% To use fancyhdr margins
\renewcommand{\headrulewidth}{0.4pt}

% To define colors
\definecolor{commentgreen}{RGB}{40, 180, 20}
% \definecolor{commentgreen}{RGB}{2,112,10}
\definecolor{eminence}{RGB}{108,48,130}
\definecolor{weborange}{RGB}{160,1,130}
\definecolor{frenchplum}{RGB}{30, 30, 210}

% To EXTREMELY customiza the style of the listings package
\lstset{
    basicstyle=\ttfamily,
    columns=fullflexible,
    breaklines=true,
    breakatwhitespace=true,
    frame=single,
    framerule=0.1pt,
    framesep=5mm,
    showstringspaces=false,
    showspaces=false,
    showtabs=false,
    tabsize=4,
    % numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    stepnumber=1,
    numberblanklines=true,
    captionpos=b,
    backgroundcolor=\color{gray!10},
    keywordstyle=\color{weborange}, %\bfseries\underbar
    commentstyle=\color{commentgreen},
    stringstyle=\color{red},
    % identifierstyle=\color{pink},
    emph={as, from}, emphstyle=\color{weborange},
    % emph={[2]import}, emphstyle={[2]\color{blue}},
    breakautoindent=true,
    breakindent=2em,
    keepspaces=true,
    morekeywords={for, while, if, else, elif, def, return, print, in, range, len, enumerate, zip, list, tuple, set, dict, True, False, None, and, or, not, is, in, not in, from, import, as, try, except, finally, raise, assert, pass, del, global, nonlocal, lambda, with, yield, class, break, continue, async, await},
    xleftmargin=1.5cm,
    xrightmargin=1.5cm,
    frameround=tttt,
    rulecolor=\color{gray!40},
    % To make bigger the radius of the frame:
    frameround=2mm,
}

% To EXTREMELY customiza the style of the verbatim inline
\newcommand{\code}[1]{\texttt{\color{frenchplum}{#1}}}

% Margins = 2cm and 4cm
\usepackage[margin=2cm, left=4cm, right=4cm]{geometry}

% Fonts and language in Spanish
\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}

% Rename things
\renewcommand{\contentsname}{Contenido}
\renewcommand{\sectionautorefname}{Sección}
\renewcommand{\subsectionautorefname}{Subsección}
\renewcommand{\subsubsectionautorefname}{Subsubsección}
\renewcommand{\figureautorefname}{Figura}
\renewcommand{\tableautorefname}{Tabla}
\renewcommand{\equationautorefname}{Ecuación}
\renewcommand{\appendixautorefname}{Apéndice}
\renewcommand{\appendixname}{Apéndices}

\title{Teoremas del límite: ley de los grandes números y teorema límite central}
\author{Jorge Antonio Gómez García \\ Saud Antonio Morales González}
\date{\today}


% ##################################################################


\begin{document}
\maketitle
\tableofcontents
\pagebreak


% ##################################################################


\section{Introducción}

La ley de los grandes números y el teorema límite central son dos teoremas que se encuentran en el ámbito de la probabilidad y la estadística. Estos teoremas son de gran importancia en la teoría de la probabilidad, ya que son los que permiten establecer la convergencia de las variables aleatorias; en el caso del teorema límite central la convergencia se da a una distribución normal. Lo que permite realizar inferencias estadísticas sobre la población a partir de una muestra.

\pagebreak


% ##################################################################

\section{Ley de los grandes números}

\begin{quote}
    \textit{En la teoría de la probabilidad, bajo el término genérico de ley de los grandes números se engloban varios teoremas que describen el comportamiento del promedio de una sucesión de variables aleatorias conforme aumenta su número de ensayos. \vspace*{0.15cm} \\ Estos teoremas prescriben condiciones suficientes para garantizar que dicho promedio converja [...] al promedio de las esperanzas de las variables aleatorias involucradas. Las distintas formulaciones de la ley de los grandes números (y sus condiciones asociadas) especifican la convergencia de formas distintas.}
\end{quote}\footnote{Colaboradores de los proyectos Wikimedia, "Ley de los grandes números", Wikipedia, la enciclopedia libre, 28 de enero de 2006.}

La ley de los grandes números se divide en dos teoremas: la ley débil de los grandes números y la ley fuerte de los grandes números. La ley débil de los grandes números se refiere a la convergencia en probabilidad de la secuencia de las medias muestrales, mientras que la ley fuerte de los grandes números se refiere a la convergencia \textit{casi segura} de la secuencia de las medias muestrales.

% ##################################################################

\subsection{Ley débil de los grandes números}

\begin{quote}
    \textbf{\textit{--- La secuencia de las medias muestrales converge en probabilidad a la media poblacional.}}
\end{quote}

Sea $\{X_n\}$ una secuencia de variables aleatorias independientes tales que $\text{E}[X_n] = \mu$ y $\text{var}(X_n) \leq M$ para cada $n \geq 1$. Entonces, la siguiente secuencia de variables aleatorias converge a $\mu$ en probabilidad:

\begin{align*}
    \overline{X}_n &:= \frac{1}{n}(X_1 + \cdots + X_n) = \frac{1}{n}\sum_{i=1}^n X_i \longrightarrow \mu \quad \text{en probabilidad}.
\end{align*}

De esta ecuación tenemos que:

\begin{align*}
    \text{E}[\overline{X}^2_n] &\rightarrow \mu^2 \\
\end{align*}

\subsubsection{Ejemplo en Python}

Considere el siguiente ejemplo: Sean $X_1, X_2, \ldots$ variables aleatorias independientes con distribución exponencial, tal que $X_i \sim \text{Exp}(\lambda)$. El segundo momento $\text{E}[\overline{X}^2_i]$ de $X_i$, con $m$ diferentes valores de $\omega$, puede ser simulado en Python de la siguiente manera:

\vspace*{0.3cm}

Importamos las librerías necesarias y definimos los parámetros:

\begin{lstlisting}[language=Python]
# Librerias
import numpy as np
import matplotlib.pyplot as plt

# Parametros
media_exp = 2   # beta = 0.5
n = 10000       # Numero de variables aleatorias
m = 500         # Numero de experimentos
\end{lstlisting}

Generamos $m$ muestras de $n$ variables aleatorias con distribucion exponencial:

\begin{lstlisting}[language=Python]
x = np.random.exponential(media_exp, (m,n))
    # (m,n) es una matriz (filas, columnas)
\end{lstlisting}

Obtenemos la media de cada una de las muestras:

\begin{lstlisting}[language=Python]
x_barra = np.mean(x, axis=1)
    # axis=1: calcula la media de cada fila
    # (m, 1) es un vector columna
\end{lstlisting}

Obtenemos el segundo momento de cada una de las muestras:

\begin{lstlisting}[language=Python]
segundo_momento_x_barra = np.mean(x_barra**2)

print(segundo_momento_x_barra)
    # Resultado: 3.9989201200495708
\end{lstlisting}

Como puede ver, el segundo momento está muy aproximado al segundo momento real de la distribución exponencial, que es $\text{E}[\overline{X}^2_i] = 1/\beta^2 = 4$. Así, usando la definición de varianza, podemos observar que la varianza de la media de las muestras tiende a cero:

\begin{align*}
    \text{var}(\overline{X}_n) &\longrightarrow 0
\end{align*}

Recordando que la varianza es el segundo momento menos el cuadrado del primer momento, tenemos:

\begin{lstlisting}[language=Python]
varianza_x_barra = segundo_momento_x_barra - np.mean(x_barra)**2

print(varianza_x_barra)
    # Resultado: 0.00015
\end{lstlisting}

¿Qué describe el código anterior? Primero, determinamos los parámetros de la distribución exponencial. En este caso la media está definida como \code{media\_exp = 2}. Luego, generamos \code{m} muestras de \code{n} variables aleatorias con distribución exponencial. Finalmente, calculamos el segundo momento de cada una de las muestras. En este caso, el segundo momento es \code{4.0000000000000004}.



% ##################################################################

\subsection{Ley fuerte de los grandes números}



% ##################################################################

\section{Teorema límite central}



\end{document}